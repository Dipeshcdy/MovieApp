@model Movie
@{
    ViewData["Title"] = "Create Movie";
}
<div class="p-5">
    <h1 class="text-indigo-500 text-4xl text-center underline font-bold ">Create Movie</h1>
    <form class="mt-10" method="post" asp-controller="Movie" asp-action="Create" enctype="multipart/form-data">
        <div>
            <div class="">
                <div class="shrink-0 mb-5">
                    <img id='preview_img' class="h-40 w-40 object-cover rounded-xl" src="~/images/dummy.jpg" alt="abc" />
                </div>

                <label class="block" asp-for="ImageUrl">
                    <input type="file" name="file" onchange="loadFile(event)" class="block w-full text-sm text-slate-500
                            file:mr-4 file:py-2 file:px-4
                            file:rounded-xl file:border-0
                            file:text-sm file:font-semibold
                            file:bg-violet-50 file:text-indigo-700
                            hover:file:bg-violet-100
                            cursor-pointer
                          " />
                </label>
            </div>
            <span asp-validation-for="ImageUrl" class="text-red-500 text-sm font-semibold"></span>
        </div>
        <div class="mt-5">
            <div class="relative">
                <input asp-for="Title" type="text" class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-indigo-600 appearance-none focus:outline-none focus:ring-0 focus:border-indigo-600 peer" placeholder=" " />
                <label asp-for="Title" class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white  px-2 peer-focus:px-2 peer-focus:text-indigo-600  peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">Title</label>
            </div>
            <span asp-validation-for="Title" class="text-red-500 text-sm font-semibold"></span>
        </div>
        <div class="my-5">
            <div class="relative">
                <textarea asp-for="Description" class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-indigo-600 appearance-none focus:outline-none focus:ring-0 focus:border-indigo-600 peer" placeholder=" "></textarea>
                <label asp-for="Description" class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white  px-2 peer-focus:px-2 peer-focus:text-indigo-600  peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">Description</label>
            </div>
            <span asp-validation-for="Description" class="text-red-500 text-sm font-semibold"></span>
        </div>
        <div class="flex gap-5 mt-5">
            <button type="submit" class="w-full px-4 text-xl py-2 bg-indigo-700 border-2 border-indigo-700 hover:bg-transparent hover:text-indigo-700 duration-500 font-semibold text-white rounded-xl">Create</button>
            <a asp-controller="Movie" asp-action="Index" class="w-full cursor-pointer text-center px-4 text-xl py-2 bg-red-700 border-2 border-red-700 hover:bg-transparent hover:text-red-700 duration-500 font-semibold text-white rounded-xl">Exit</a>
        </div>
    </form>
</div>
<script>
    var loadFile = function (event) {

        var input = event.target;
        var file = input.files[0];
        var type = file.type;

        var output = document.getElementById('preview_img');


        output.src = URL.createObjectURL(event.target.files[0]);
        output.onload = function () {
            URL.revokeObjectURL(output.src) // free memory
        }
    };
</script>

@section scripts {
    @{
        <partial name="_ValidationScriptsPartial" />
    }
}

